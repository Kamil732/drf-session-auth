(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{72:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(24),o=n.n(s),i=n(4),u=n(5),l=n(7),p=n(6),h=n(11),b=n(3),j=n(18),d=n(8),O=n.n(d),v=n(15),f=n(21),m=n.n(f),g=n(16),x=n.n(g),y="REGISTER_SUCCESS",C="REGISTER_FAIL",w="LOGIN_SUCCESS",k="LOGIN_FAIL",S="AUTHENTICATED_SUCCESS",N="AUTHENTICATED_FAIL",A="LOGOUT_SUCCESS",T=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)(h.b,{to:"/",className:"navbar-brand",children:"Navbar"}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(a.jsx)("ul",{className:"navbar-nav",children:Object(a.jsxs)("li",{className:"nav-item",children:[Object(a.jsx)(h.c,{className:"nav-link",exact:!0,to:"/",children:"Home"}),this.props.isAuthenticated?Object(a.jsx)(h.c,{className:"nav-link",exact:!0,to:"/",onClick:this.props.logout,children:"Logout"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(h.c,{className:"nav-link",exact:!0,to:"/login",children:"Login"}),Object(a.jsx)(h.c,{className:"nav-link",exact:!0,to:"/register",children:"Register"})]})]})})})]})})}}]),n}(r.Component),E={logout:function(){return function(){var e=Object(v.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")}},a=JSON.stringify({withCredentials:!0}),e.next=4,x.a.post("http://localhost:8000/api/accounts/logout/",a,n);case 4:t({type:A});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},L=Object(j.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),E)(T),F=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L,{}),Object(a.jsx)(b.d,{children:this.props.children})]})}}]),n}(r.Component),I=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)("div",{className:"mt-5 p-5 bg-light",children:[Object(a.jsx)("h1",{className:"display-4",children:"Welcome to Session Auth"}),Object(a.jsx)("p",{className:"lead",children:"here is some jumbotron"}),Object(a.jsx)("hr",{className:"my-4"}),Object(a.jsx)("p",{children:"Click the button below to log in"}),Object(a.jsx)(h.b,{to:"/login",className:"btn btn-primary btn-lg",children:"Login"})]})})}}]),n}(r.Component),U=n(20),R=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={csrftoken:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("http://localhost:8000/api/accounts/csrf_cookie/");case 3:this.setState({csrftoken:m.a.get("csrftoken")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.csrftoken;return Object(a.jsx)("input",{type:"hidden",name:"csrfmiddlewaretoken",value:e})}}]),n}(r.Component),D=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",password2:""},e.onChange=function(t){return e.setState(Object(U.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,r=n.password,c=n.password2;e.props.register(a,r,c)},e}return Object(u.a)(n,[{key:"render",value:function(){if(!0===this.props.isAuthenticated)return Object(a.jsx)(b.a,{to:"/dashboard"});var e=this.state,t=e.username,n=e.password,r=e.password2;return Object(a.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(a.jsx)(R,{}),Object(a.jsx)("label",{children:"Username:"}),Object(a.jsx)("input",{name:"username",placeholder:"Username...",value:t,onChange:this.onChange,required:!0}),Object(a.jsx)("label",{children:"password:"}),Object(a.jsx)("input",{name:"password",placeholder:"Password...",value:n,onChange:this.onChange,required:!0}),Object(a.jsx)("label",{children:"Confirm Password:"}),Object(a.jsx)("input",{name:"password2",placeholder:"Confirm password...",value:r,onChange:this.onChange,required:!0}),Object(a.jsx)("button",{className:"btn btn-success",children:"Register"})]})}}]),n}(r.Component),_={register:function(e,t,n){return function(){var a=Object(v.a)(O.a.mark((function a(r){var c,s;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")}},s=JSON.stringify({username:e,password:t,password2:n}),a.prev=2,a.next=5,x.a.post("http://localhost:8000/api/accounts/signup/",s,c);case 5:a.sent,r({type:y}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),r({type:C});case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()}},q=Object(j.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),_)(D),G=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:""},e.onChange=function(t){return e.setState(Object(U.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,r=n.password;e.props.login(a,r)},e}return Object(u.a)(n,[{key:"render",value:function(){if(!0===this.props.isAuthenticated)return Object(a.jsx)(b.a,{to:"/dashboard"});var e=this.state,t=e.username,n=e.password;return Object(a.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(a.jsx)(R,{}),Object(a.jsx)("label",{children:"Username:"}),Object(a.jsx)("input",{name:"username",placeholder:"Username...",value:t,onChange:this.onChange,required:!0}),Object(a.jsx)("label",{children:"password:"}),Object(a.jsx)("input",{name:"password",placeholder:"Password...",value:n,onChange:this.onChange,required:!0}),Object(a.jsx)("button",{className:"btn btn-success",children:"Login"})]})}}]),n}(r.Component),J={login:function(e,t){return function(){var n=Object(v.a)(O.a.mark((function n(a){var r,c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":m.a.get("csrftoken")}},c=JSON.stringify({username:e,password:t}),n.prev=2,n.next=5,x.a.post("http://localhost:8000/api/accounts/login/",c,r);case 5:n.sent,a({type:w}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),a({type:k});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()}},M=Object(j.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),J)(G),P=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,accounts:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("http://localhost:8000/api/accounts/");case 3:t=e.sent,this.setState({loading:!1,accounts:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({loading:!1,accounts:[]});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.accounts;return t?Object(a.jsx)("h1",{children:"Loading"}):(console.log(n),Object(a.jsx)("div",{children:n.length>0?n.map((function(e,t){return Object(a.jsxs)("div",{children:[e.id," - ",e.username]},t)})):""}))}}]),n}(r.Component),H=n(17),X=n(41),B=n(42),W=n(23),z={isAuthenticated:null,user:{}},K=Object(H.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case S:return Object(W.a)(Object(W.a)({},e),{},{isAuthenticated:a});case y:case w:return Object(W.a)(Object(W.a)({},e),{},{isAuthenticated:!0});case C:case N:case A:case k:return z;default:return e}}}),Q=[B.a],V=Object(H.createStore)(K,{},Object(X.composeWithDevTools)(H.applyMiddleware.apply(void 0,Q))),Y=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){V.dispatch(function(){var e=Object(v.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Accept:"application/json","Content-Type":"application/json"}},e.prev=1,e.next=4,x.a.get("http://localhost:8000/api/accounts/authenticated/",n);case 4:a=e.sent,t({type:S,payload:a.data.isAuthenticated}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:N});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}())}},{key:"render",value:function(){return Object(a.jsx)(j.a,{store:V,children:Object(a.jsx)(h.a,{children:Object(a.jsxs)(F,{children:[Object(a.jsx)(b.b,{exact:!0,path:"/",component:I}),Object(a.jsx)(b.b,{exact:!0,path:"/register",component:q}),Object(a.jsx)(b.b,{exact:!0,path:"/login",component:M}),Object(a.jsx)(b.b,{exact:!0,path:"/dashboard",component:P})]})})})}}]),n}(r.Component),Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Y,{})}),document.getElementById("root")),Z()}},[[72,1,2]]]);
//# sourceMappingURL=main.bf79b9c4.chunk.js.map